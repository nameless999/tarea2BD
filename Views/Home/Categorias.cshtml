@using Tarea2BDRazor.Models;
@{
    ViewBag.Title = "Categorias";
}
        


@section featured {


    <section class="featured">
        <div class="content-wrapper">

    @if (int.Parse(Session["IDG"].ToString()) != -1) {
    <text>
        ¡Hola, @Html.ActionLink(Session["user_name"].ToString(), "VerPerfil", "Home")!
        @Html.ActionLink("Logout", "Logout", "Home")
    </text>
    }
}
    <h2>Categorias</h2>

    @{
        
        Categoria idCat = new Categoria();
        Tema tema = new Tema();
        Comentario comentario = new Comentario();
        int i = idCat.obtenerPrimerIDCategoria();
        foreach (Categoria elemento in ViewBag.ListCategorias)
        {
            
                 
            <ul>
                <li>@Html.ActionLink(elemento.nombre, "Temas", new { controller="Categorias", nid = i, id_user = Session["ID"].ToString()}) </li>
                <ul>
                    <li>Descripción: @elemento.descripcion</li>
                    <li>Cantidad de Temas: @tema.CantidadTemasPorIDCategoria(elemento.id_categoria)</li>
                    <li>Cantidad de Comentarios: </li>
                    <li>@Html.ActionLink("Eliminar", "EliminarTemaRec", new { controller="Categorias", id_categoria = elemento.id_categoria})</li>
                </ul>
            </ul>
            i++;     
        }
        
         <ul>
                <li>@Html.ActionLink("Nueva Categoria","CrearCategoria", new { controller="Categorias"}) </li>
         </ul>
        
    }
         </div>
    </section>
}
 